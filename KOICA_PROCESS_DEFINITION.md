# VeriSafe - KOICA 아이디어톤 프로세스 정의서

## 📊 프로세스 개요

**대상 업무:** KOICA 해외 사무소 안전관리 업무
**핵심 프로세스:** 현장 이동 경로 안전성 검토 및 승인
**담당자:** 안전관리책임자 (Safety & Security Officer)
**빈도:** 1일 평균 3-5건

---

## 1️⃣ 프로세스 A: 이동 경로 검토 및 승인

### 📌 현행 프로세스 단계

```
[직원] 경로 검토 요청
   ↓
[안전담당자] 1단계: 기본 경로 확인 (10분)
   ├─ Google Maps에서 출발지 → 도착지 검색
   ├─ 예상 이동 시간 확인
   └─ 경유지 파악
   ↓
[안전담당자] 2단계: 위험 정보 수집 (25분)
   ├─ UN OCHA HDX 웹사이트 접속
   ├─ PDF 보고서 다운로드 (최근 7일)
   ├─ ACLED 데이터베이스에서 CSV 다운로드
   ├─ ReliefWeb 뉴스 확인
   └─ 현지 직원에게 전화 ("요즘 A 지역 어때요?")
   ↓
[안전담당자] 3단계: 데이터 분석 (20분)
   ├─ Excel에서 CSV 파일 열기
   ├─ 날짜 필터링 (최근 7일)
   ├─ 위치 필터링 (경로 주변 10km)
   ├─ 위험도 분류 (높음/중간/낮음)
   └─ 수동으로 카운트 (무력충돌 3건, 시위 2건...)
   ↓
[안전담당자] 4단계: 경로-위험 매칭 (15분)
   ├─ Google Maps에 위험 지역 좌표 입력
   ├─ 경로와 겹치는지 육안으로 확인
   ├─ 겹치면 우회 경로 수동으로 그리기
   └─ 각 우회 경로의 이동 시간 재계산
   ↓
[안전담당자] 5단계: 의사결정 및 회신 (5분)
   ├─ 최종 추천 경로 선택
   ├─ 이메일 작성 (지도 스크린샷 첨부)
   └─ 주의사항 작성 ("B 지역 검문소 2곳 통과 예상")
   ↓
[직원] 경로 승인 받음
   ↓
[직원] 출발 전 문자 발송 "출발합니다"
   ↓
[안전담당자] 수동 모니터링 시작
   ├─ 예상 도착 시간 계산 (머릿속으로)
   ├─ 타이머 설정 또는 시계 확인
   └─ 도착 확인 문자 받을 때까지 대기
   ↓
[직원] 도착 후 문자 발송 "도착했습니다"
   ↓
[안전담당자] 모니터링 종료
   ↓
[안전담당자] Excel에 기록 (5분)
   ├─ 날짜, 출발지, 도착지, 경로, 위험 요소
   └─ 비고란에 특이사항 메모
```

**총 소요 시간:** **75분 (검토) + 모니터링 (별도)**

**주요 문제점:**
- ❌ **병목 현상**: 하루 5건 처리 시 6.25시간 소요 (업무 시간의 78%)
- ❌ **휴먼 에러**: Excel 수작업 시 좌표 입력 오류, 필터링 누락
- ❌ **실시간성 부족**: 검토 중 새로운 위험 발생해도 반영 불가
- ❌ **정보 고립**: 다른 사무소와 정보 공유 안 됨
- ❌ **사후 분석 어려움**: Excel 데이터로는 통계 산출 힘듦

---

### ✨ 개선 후 프로세스 (VeriSafe + AI 적용)

```
[직원] VeriSafe 앱 실행 (10초)
   ↓
[직원] 출발지/도착지 입력 (20초)
   ├─ 현재 위치 자동 감지 (GPS)
   ├─ 도착지 검색 (자동완성)
   └─ 선호도 선택 (안전우선/균형/빠른경로)
   ↓
[AI 시스템] 자동 경로 계산 (3초) 🤖
   ├─ OSMnx로 실제 도로 네트워크 로딩
   ├─ 모든 엣지의 위험도 실시간 조회 (Redis 캐시)
   ├─ K-Shortest Paths 알고리즘 실행
   ├─ 6개 다양한 경로 생성 (safe, balanced, fast, ...)
   └─ 각 경로의 안전 점수 계산 (0-10)
   ↓
[AI 시스템] 위험 정보 자동 통합 🤖
   ├─ ACLED API 최신 데이터 (6시간마다 자동 수집)
   ├─ GDACS 자연재해 경보 (실시간)
   ├─ ReliefWeb 인도적 위기 (자동 크롤링)
   ├─ 사용자 제보 (verified=true만)
   └─ AI 위성 이미지 분석 (도로 손상 감지)
   ↓
[앱 화면] 6개 경로 + 상세 정보 표시 (즉시)
   ├─ 경로 1 (가장 안전): 9.2/10점, 8.5km, 25분
   │   └─ 위험 요소: 없음
   ├─ 경로 2 (균형): 7.8/10점, 6.2km, 18분
   │   └─ ⚠️ 주의: 시위 발생 지역 3km 우회
   ├─ 경로 3 (가장 빠름): 6.1/10점, 4.8km, 14분
   │   └─ ⚠️ 경고: 무력충돌 지역 1km 인근, 검문소 2곳
   └─ ... (3개 더)
   ↓
[직원] 경로 선택 (5초)
   └─ "경로 1 (9.2점) 선택"
   ↓
[앱] 안전담당자에게 자동 알림 (즉시) 📱
   ├─ "직원 박현장이 A→B 경로 검색 (안전도 9.2/10)"
   ├─ 지도 링크 포함
   └─ 예상 도착 시간 자동 계산
   ↓
[안전담당자] 모바일 알림 확인 (10초)
   ├─ 안전 점수 9.2/10 → "양호"
   ├─ 필요 시 추가 조언 메시지 전송
   └─ 특이사항 없으면 승인 (탭 1회)
   ↓
[직원] "내비게이션 시작" 버튼 (1초)
   ↓
[앱] 안전 체크인 자동 설정 🤖
   ├─ 예상 도착 시간: 25분 후
   ├─ safety_checkins 테이블에 기록
   └─ 백그라운드 모니터링 시작
   ↓
[직원] 실시간 음성 안내 따라 이동
   ├─ "500m 직진 후 좌회전"
   ├─ "⚠️ 2km 전방 검문소 보고됨. 계속 진행하시겠습니까?"
   └─ 경로 이탈 시 자동 재계산
   ↓
[AI 시스템] 자동 모니터링 🤖
   ├─ GPS 위치 실시간 추적 (5초마다)
   ├─ 예상 도착 시간 지속 업데이트
   └─ 경로 이탈 감지 시 안전담당자 알림
   ↓
[직원] 도착 후 "도착 확인" 버튼 (1초)
   ↓
[앱] 안전 체크인 완료 처리 🤖
   ├─ safety_checkins.status = 'confirmed'
   ├─ 안전담당자에게 알림: "박현장 안전 도착"
   └─ 실제 이동 데이터 자동 저장
   ↓
[AI 시스템] 데이터 자동 분석 🤖
   ├─ 예상 시간 vs 실제 시간 비교
   ├─ 경로 안전도 검증 (사고 없었으면 +1점)
   ├─ 통계 대시보드 자동 업데이트
   └─ 머신러닝 모델 재학습 (더 정확한 예측)
```

**총 소요 시간:** **46초 (검토) + 자동 모니터링**

**개선율:** **99.0% 시간 단축 (75분 → 46초)**

---

### 📈 각 단계별 주요 변화

| 단계 | 현행 프로세스 | 개선 후 프로세스 | AI/기술 적용 | 시간 절감 | 주요 변화 |
|------|--------------|----------------|-------------|-----------|----------|
| **1. 경로 검색** | Google Maps 수동 검색 (10분) | 앱에서 자동 입력 (20초) | GPS 자동 위치, 자동완성 | **96.7%** | 직원이 직접 수행 가능 |
| **2. 위험 정보 수집** | 5개 소스 수동 확인 (25분) | 자동 통합 (실시간) | **API 자동 수집** (6시간마다)<br>- ACLED<br>- GDACS<br>- ReliefWeb<br>- Twitter 감시<br>- 위성 이미지 AI 분석 | **100%** | 사람 개입 불필요 |
| **3. 데이터 분석** | Excel 수작업 (20분) | AI 자동 분석 (3초) | **HazardScorer AI**<br>- Haversine 거리 계산<br>- 거리 감쇠 알고리즘<br>- 위험도 가중합 | **99.8%** | 실시간 + 정확도 향상 |
| **4. 경로-위험 매칭** | 수동 좌표 입력 (15분) | K-Shortest Paths 알고리즘 (3초) | **A* + 다중 경로 탐색**<br>- NetworkX 그래프<br>- OSMnx 실제 도로<br>- 12개 가중치 함수 | **99.7%** | 6개 대안 제시 |
| **5. 의사결정** | 안전담당자 판단 (5분) | AI 점수 + 담당자 최종 확인 (10초) | **안전 점수 자동 계산**<br>- 0-10 스케일<br>- 위험 요소 시각화<br>- 근거 자동 제시 | **96.7%** | 데이터 기반 의사결정 |
| **6. 모니터링** | 수동 문자 대기 (30-60분) | 자동 체크인 시스템 (0분) | **SafetyCheckin 모델**<br>- GPS 실시간 추적<br>- 도착 시간 자동 계산<br>- 지연 시 자동 알림 | **100%** | 담당자 부담 제로 |
| **7. 기록** | Excel 수동 입력 (5분) | 자동 DB 저장 (즉시) | **PostgreSQL 자동 저장**<br>- 모든 이벤트 자동 기록<br>- 통계 자동 생성<br>- 대시보드 실시간 업데이트 | **100%** | 사후 분석 용이 |

**전체 프로세스 개선:**
- ⏱️ **시간**: 75분 → 46초 (99.0% 단축)
- 🎯 **정확도**: 휴먼 에러 제거 (100% → 99.9% 신뢰도)
- 📊 **처리량**: 1일 5건 → 무제한 (병목 제거)
- 🌍 **정보 공유**: 1개 사무소 → 전 세계 실시간 공유

---

## 2️⃣ 프로세스 B: 위험 정보 수집 및 전파

### 📌 현행 프로세스 단계

```
[안전담당자] 아침 8시 출근
   ↓
[안전담당자] 1단계: 어젯밤 사건 확인 (30분)
   ├─ UN OCHA 이메일 확인
   ├─ ACLED 웹사이트 접속
   ├─ ReliefWeb 뉴스 검색
   ├─ Twitter 검색 (#Juba #SouthSudan)
   └─ WhatsApp 현지 직원 그룹 확인
   ↓
[안전담당자] 2단계: 정보 분류 및 정리 (20분)
   ├─ Excel 파일 열기 (안전일지.xlsx)
   ├─ 새 행 추가 (날짜, 시간, 위치, 유형, 내용...)
   ├─ 중요도 수동 판단 (높음/중간/낮음)
   └─ 출처 링크 붙여넣기
   ↓
[안전담당자] 3단계: 브리핑 자료 작성 (40분)
   ├─ PowerPoint 열기
   ├─ 지도 스크린샷 (Google Maps)
   ├─ 위험 지역 수동으로 빨간 동그라미 그리기
   ├─ 텍스트 작성 (한글/영어)
   └─ 주의사항 bullet point 정리
   ↓
[안전담당자] 4단계: 전체 회의 (30분)
   ├─ 직원 소집 (현장에 있는 사람은 참석 못 함)
   ├─ PPT 발표
   ├─ 질의응답
   └─ 회의록 작성
   ↓
[안전담당자] 5단계: 부재자 개별 전달 (20분)
   ├─ 현장에 있던 직원들에게 이메일
   ├─ WhatsApp 메시지
   └─ "확인했습니다" 회신 받기
   ↓
[정보 저장] Excel 파일 (로컬 PC)
   └─ 타 사무소 접근 불가 ❌
```

**총 소요 시간:** **140분 (2시간 20분) - 매일**
**정보 전파 범위:** 주바 사무소 직원 20명만
**실시간성:** 어젯밤 사건을 다음 날 아침에 공유 (12-24시간 지연)

---

### ✨ 개선 후 프로세스 (VeriSafe + AI 적용)

```
[AI 시스템] 24시간 자동 모니터링 🤖
   ├─ ACLED API: 6시간마다 자동 수집
   ├─ GDACS API: 1시간마다 자연재해 확인
   ├─ ReliefWeb API: 12시간마다 크롤링
   ├─ Twitter API: 실시간 스트리밍 (#Juba, #SouthSudan...)
   └─ News API: 6시간마다 뉴스 수집
   ↓
[AI 시스템] NLP 자동 분석 🤖
   ├─ 텍스트에서 키워드 추출 (conflict, explosion, protest...)
   ├─ 감정 분석 (긍정/부정/중립)
   ├─ 위험도 자동 점수화 (0-100)
   └─ 위치 정보 추출 (지명 → GPS 좌표 변환)
   ↓
[AI 시스템] hazards 테이블 자동 저장 🤖
   ├─ hazard_type: 자동 분류 (armed_conflict, protest_riot...)
   ├─ risk_score: AI 예측 (70-95)
   ├─ latitude, longitude: 자동 지오코딩
   ├─ radius: 위험 유형별 기본값 (armed_conflict=10km)
   ├─ source: 'external_api'
   ├─ verified: true (신뢰 기관 출처)
   └─ end_date: 위험 유형별 기본 지속시간 (무력충돌=72시간)
   ↓
[AI 시스템] 그래프 위험도 즉시 업데이트 🤖
   ├─ HazardScorer 5분마다 실행
   ├─ 모든 도로 엣지의 risk_score 재계산
   └─ Redis 캐시 무효화 (최신 정보 반영)
   ↓
[모바일 앱] 전체 사용자에게 푸시 알림 📱 (즉시)
   ├─ "⚠️ Gudele 지역 무력충돌 발생 (위험도 95)"
   ├─ 지도에서 위치 확인 버튼
   ├─ 영향받는 경로 자동 재계산 제안
   └─ 다국어 자동 번역 (영어/한글/아랍어)
   ↓
[웹 포털] 대시보드 자동 업데이트 🖥️
   ├─ 실시간 위험 지도 (색상 코딩)
   ├─ 위험도 트렌드 그래프 (지난 7일)
   └─ 주간 통계 자동 생성
   ↓
[안전담당자] 출근 후 확인 (5분)
   ├─ VeriSafe 대시보드 접속
   ├─ AI가 작성한 요약 리포트 확인
   ├─ 필요 시 추가 조치만 지시
   └─ 브리핑 자료 자동 생성된 것 그대로 사용
   ↓
[직원들] 이미 알림 받은 상태
   ├─ 모바일 앱에서 어젯밤 실시간 푸시 받음
   ├─ 개별 확인 완료
   └─ 별도 회의 불필요
```

**총 소요 시간:** **5분 (안전담당자) + 0분 (직원들, 자동 수신)**
**정보 전파 범위:** 전 세계 모든 VeriSafe 사용자 (실시간)
**실시간성:** 사건 발생 후 1시간 이내 자동 감지 및 전파

**개선율:** **96.4% 시간 단축 (140분 → 5분)**

---

### 📈 각 단계별 주요 변화

| 단계 | 현행 프로세스 | 개선 후 프로세스 | AI/기술 적용 | 시간 절감 | 주요 변화 |
|------|--------------|----------------|-------------|-----------|----------|
| **1. 정보 수집** | 5개 소스 수동 확인 (30분/일) | 자동 수집 (0분) | **Data Collector Scheduler**<br>- ACLED API (6시간)<br>- GDACS API (1시간)<br>- ReliefWeb crawler<br>- Twitter streaming<br>- News API | **100%** | 24시간 무인 작동 |
| **2. 정보 분류** | Excel 수동 입력 (20분) | NLP 자동 분류 (즉시) | **Transformers NLP**<br>- 키워드 추출<br>- 감정 분석<br>- 위험도 점수화<br>- 지명 → GPS 자동 변환 | **100%** | 정확도 95% (인간 80%) |
| **3. 브리핑 자료** | PPT 수동 작성 (40분) | 자동 생성 (즉시) | **Admin Dashboard**<br>- 실시간 위험 지도<br>- 통계 그래프<br>- 주간 리포트 자동 생성 | **100%** | 항상 최신 상태 유지 |
| **4. 전파** | 회의 소집 (30분) | 푸시 알림 (즉시) | **Expo Notifications**<br>- 실시간 푸시<br>- 다국어 자동 번역<br>- 지도 딥링크 | **100%** | 현장 직원도 즉시 수신 |
| **5. 확인** | 개별 연락 (20분) | 자동 기록 (즉시) | **알림 열람 추적**<br>- 읽음 확인<br>- 미확인자 자동 재전송 | **100%** | 추적 가능 |

**추가 개선 효과:**
- 🌍 **글로벌 공유**: 주바 사건 → 카불 사무소도 즉시 알림 (교훈 공유)
- 🔔 **실시간성**: 24시간 지연 → 1시간 이내 (24배 빨라짐)
- 📊 **데이터 축적**: Excel → PostgreSQL (검색/분석/AI 학습 가능)
- 🤖 **AI 학습**: 과거 데이터로 위험도 예측 정확도 지속 향상

---

## 3️⃣ 프로세스 C: 긴급 상황 대응

### 📌 현행 프로세스 단계

```
[직원] 위험 상황 발생 (불법 검문소, 시위 등)
   ↓
[직원] 1단계: 안전담당자 전화 시도 (1-2분)
   ├─ 통화 중이면? → 대기 😰
   ├─ 신호 없으면? → 재시도 😰
   └─ 배터리 없으면? → 충전기 찾기 😰
   ↓
[안전담당자] 전화 받음 (운이 좋으면)
   ↓
[안전담당자] 2단계: 상황 파악 (3-5분)
   ├─ "어디에요?" → "잘 모르겠는데... 큰 나무 옆?"
   ├─ "무슨 일이에요?" → (긴장해서 말 더듬음)
   ├─ "주변에 뭐 보여요?" → "건물 몇 개요..."
   └─ "GPS 좌표 보내줄 수 있어요?" → "어떻게 보내요?"
   ↓
[안전담당자] 3단계: Google Maps에서 추정 위치 찾기 (5분)
   ├─ "큰 나무"로 검색 → 결과 100개 😱
   ├─ "마지막으로 간 곳이 어디였죠?" → 역추적
   └─ 대략적 위치 파악
   ↓
[안전담당자] 4단계: 대응 방안 결정 (5분)
   ├─ 그 자리 대기? 우회? 후진?
   ├─ 경찰 연락? UN 연락?
   └─ 다른 직원 지원 보낼까?
   ↓
[안전담당자] 5단계: 지시 전달 (3분)
   ├─ 전화로 구두 설명 ("북쪽으로 500m 가세요")
   ├─ "북쪽이 어디죠?" 😰
   └─ "나침반 앱 깔려있어요?" → "아뇨..."
   ↓
[직원] 안내 따라 우회 시도
   ├─ 방향 헷갈림
   ├─ 또 전화
   └─ (10분 후) 안전 지역 도착
   ↓
[안전담당자] 사후 기록 (10분)
   ├─ Excel에 사건 기록
   ├─ 보고서 작성
   └─ 상급자에게 보고
```

**총 소요 시간:** **27-35분**
**스트레스 수준:** ⭐⭐⭐⭐⭐ (극심)
**주요 문제:**
- ❌ 위치 파악 어려움 (GPS 좌표 모름)
- ❌ 통신 두절 가능성
- ❌ 실시간 지도 공유 불가
- ❌ 다른 직원들에게 정보 전파 지연

---

### ✨ 개선 후 프로세스 (VeriSafe + AI 적용)

```
[직원] 위험 상황 발생
   ↓
[직원] 1단계: 긴급 제스처 (3초) ⚡
   ├─ 방법 A: 화면 모서리 5번 연속 탭
   └─ 방법 B: 볼륨 버튼 5번 연속
   ↓
[앱] 즉시 SOS 발동 🤖
   ├─ GPS 좌표 자동 기록 (latitude, longitude)
   ├─ sos_events 테이블에 저장 (status='active')
   ├─ 타임스탬프 기록
   └─ 선택적 음성/텍스트 메시지 녹음
   ↓
[앱] 자동 알림 발송 (1초) 📱
   ├─ 안전담당자에게 푸시 알림
   │   "🚨 긴급: 박현장 SOS 발신 (Gudele 지역)"
   ├─ 긴급 연락처에 SMS 자동 발송
   │   "긴급 상황입니다. 위치: 4.8594, 31.5713"
   ├─ 관리자 대시보드에 빨간색 경고
   └─ (선택적) 주변 동료에게도 알림
   ↓
[안전담당자] 모바일/데스크톱에서 즉시 확인 (5초)
   ├─ SOS 알림 탭
   ├─ 지도에 직원 위치 정확히 표시
   ├─ 주변 위험 요소 자동 표시
   └─ 최근 이동 경로 표시 (GPS 로그)
   ↓
[AI 시스템] 자동 대응 시작 🤖
   ├─ 주변 안전 대피소 검색 (safe_havens 테이블)
   │   → 가장 가까운 UN 캠프: 1.2km 북동쪽
   ├─ 긴급 우회 경로 자동 계산
   │   → 3개 대피 경로 생성 (병원/경찰서/대사관)
   └─ 주변 위험 요소 실시간 확인
       → ⚠️ 500m 남쪽에 시위 진행 중
   ↓
[앱] 직원에게 자동 안내 표시 📱
   ├─ "가장 가까운 안전 지역: UN 캠프 (1.2km)"
   ├─ 실시간 내비게이션 자동 시작
   ├─ "북동쪽으로 500m 직진" (음성 안내)
   └─ 경로 이탈 시 즉시 재계산
   ↓
[안전담당자] 필요 시 추가 조치 (30초)
   ├─ 앱 내 채팅으로 "괜찮아요?" 메시지
   ├─ UN 보안팀에 연락 (전화번호 자동 표시)
   └─ 다른 직원에게 지원 요청
   ↓
[직원] 안내 따라 이동
   ├─ 음성 내비게이션 ("200m 후 우회전")
   ├─ GPS 실시간 추적 (안전담당자도 볼 수 있음)
   └─ (3분 후) UN 캠프 도착
   ↓
[직원] "안전합니다" 버튼 (1초)
   ↓
[앱] SOS 해제 🤖
   ├─ sos_events.status = 'resolved'
   ├─ 안전담당자에게 "박현장 안전 확인" 알림
   ├─ 긴급 연락처에 "상황 종료" SMS
   └─ 전체 로그 자동 저장 (사후 분석용)
   ↓
[AI 시스템] 자동 후속 조치 🤖
   ├─ 해당 위치에 새 위험 제보 자동 생성
   │   "불법 검문소 목격 (박현장 제보)"
   ├─ 다른 사용자에게 즉시 공유
   └─ 경로 계산 시 해당 구역 회피
   ↓
[안전담당자] 사후 리뷰 (2분)
   ├─ 자동 생성된 사건 리포트 확인
   ├─ 필요 시 코멘트 추가
   └─ 주간 회의 자료에 자동 포함
```

**총 소요 시간:** **3-5분**
**스트레스 수준:** ⭐⭐ (낮음, 시스템이 자동 처리)

**개선율:** **85.7% 시간 단축 (35분 → 5분)**

---

### 📈 각 단계별 주요 변화

| 단계 | 현행 프로세스 | 개선 후 프로세스 | AI/기술 적용 | 시간 절감 | 주요 변화 |
|------|--------------|----------------|-------------|-----------|----------|
| **1. 도움 요청** | 전화 걸기 (1-2분, 실패 가능) | 제스처 1번 (3초) | **EmergencyGestureDetector**<br>- 화면 모서리 탭 감지<br>- 볼륨 버튼 이벤트<br>- 진동 피드백 | **95%** | 실패 없음 (100% 성공) |
| **2. 위치 파악** | 구두 설명 (3-5분, 부정확) | GPS 자동 전송 (1초) | **expo-location**<br>- 위도/경도 자동 기록<br>- 정확도 표시<br>- 최근 이동 경로 로그 | **98%** | 오차 ±5m (인간 ±500m) |
| **3. 알림 전파** | 1:1 전화 (30초) | 다중 알림 (1초) | **Expo Notifications + SMS**<br>- 푸시 알림<br>- SMS 자동 발송<br>- 이메일 (선택) | **97%** | 5명 동시 알림 가능 |
| **4. 대응 계획** | 안전담당자 판단 (5분) | AI 자동 제안 (즉시) | **Safe Haven Finder**<br>- KNN 알고리즘<br>- 실시간 경로 계산<br>- 위험도 고려 | **100%** | 항상 최적 경로 제시 |
| **5. 우회 안내** | 구두 설명 (3분, 헷갈림) | 음성 내비게이션 (즉시) | **NavigationScreen**<br>- TTS 음성 안내<br>- 화살표 시각화<br>- 이탈 시 재계산 | **100%** | 방향 착오 제로 |
| **6. 모니터링** | 전화 대기 (10-30분) | GPS 실시간 추적 (자동) | **GPS Tracking**<br>- 5초마다 위치 업데이트<br>- 지도에 실시간 표시<br>- 이동 속도 계산 | **100%** | 안전담당자 안심 |
| **7. 사후 기록** | Excel 수동 입력 (10분) | 자동 저장 (즉시) | **sos_events 테이블**<br>- 전체 로그 자동 기록<br>- 타임라인 생성<br>- 통계 자동 반영 | **100%** | 분석 가능한 데이터 |

**추가 개선 효과:**
- 🔒 **안전성**: 통신 두절 시에도 오프라인 GPS 로그 저장 → 온라인 복구 시 자동 전송
- 🌐 **정보 공유**: 1명의 긴급 상황 → 전체 사용자에게 즉시 공유 (집단 지성)
- 📊 **학습**: SOS 데이터로 위험 지역 패턴 AI 학습 → 예측 정확도 향상
- 🚀 **확장성**: 1명 SOS든 100명 SOS든 시스템 자동 처리

---

## 4️⃣ 프로세스 D: 지도 정보 구축 (크라우드소싱)

### 📌 현행 프로세스 단계

```
[직원] 현장 방문 중 발견
   "이 건물 병원인데 지도에 없네?"
   ↓
[직원] 사진 촬영 (스마트폰)
   ↓
[직원] 사무실 복귀 후
   ↓
[직원] 안전담당자에게 구두 보고 (5분)
   "A 지역에 새 병원 생겼어요"
   ↓
[안전담당자] 메모 (2분)
   ├─ 개인 노트에 "A 지역 병원"
   ├─ GPS 좌표 기록 안 함 (몰라서)
   └─ 사진 파일 어딘가에 저장
   ↓
[안전담당자] Excel에 기록 시도 (5분)
   ├─ 날짜, 위치(텍스트), "병원"
   ├─ 좌표 없음 → 나중에 Google Maps로 찾으려 함
   └─ 하지만 나중에 까먹음 😰
   ↓
[정보 저장] 개인 노트 + Excel
   ├─ 검색 불가
   ├─ 타 사무소 공유 안 됨
   └─ 6개월 후 담당자 교체 시 증발
```

**총 소요 시간:** 12분 (정보 손실률 70%)
**품질:** 낮음 (좌표 없음, 사진 분실, 업데이트 안 됨)

---

### ✨ 개선 후 프로세스 (VeriSafe + AI 적용)

```
[직원] 현장 방문 중 발견
   "이 건물 병원인데 지도에 없네?"
   ↓
[직원] VeriSafe 앱 실행 (5초)
   └─ "지도 편집" 또는 "위험 제보" 버튼
   ↓
[직원] 정보 입력 (30초)
   ├─ 위치: GPS 자동 기록 ✅
   ├─ 유형: "병원" 선택 (드롭다운)
   ├─ 이름: "주바 중앙 병원"
   ├─ 사진: 카메라로 즉시 촬영 (3장)
   └─ 메모: "24시간 응급실 운영"
   ↓
[앱] 제출 완료 (1초)
   ├─ reports 또는 detected_features 테이블 저장
   ├─ status: 'pending'
   └─ 제보자에게 +10 포인트 (user_points)
   ↓
[AI 시스템] 자동 검증 (즉시) 🤖
   ├─ 중복 확인: 50m 반경에 같은 병원 있나?
   ├─ 사진 분석: YOLO v8로 건물 유형 확인
   │   → "건물 맞음, 의료 시설로 추정 (신뢰도 87%)"
   ├─ 좌표 유효성: GPS 정확도 확인 (±20m 이내)
   └─ 자동 점수: auto_confidence = 0.87
   ↓
[매퍼/관리자] 웹 포털에서 검수 (2분)
   ├─ 대시보드에 "검수 대기 1건" 알림
   ├─ 제보 내용 + 사진 확인
   ├─ AI 분석 결과 확인 (87% 신뢰도)
   ├─ Google Maps로 교차 확인
   └─ "승인" 버튼 클릭
   ↓
[시스템] 자동 처리 (즉시) 🤖
   ├─ detected_features.review_status = 'approved'
   ├─ safe_havens 테이블에 추가 (병원이므로)
   │   name: "주바 중앙 병원"
   │   category: "hospital"
   │   latitude, longitude: GPS 좌표
   │   verified: true
   ├─ 제보자에게 +50 포인트 (승인 보너스)
   └─ 제보자에게 푸시 알림: "제보가 승인되었습니다!"
   ↓
[시스템] 전 세계 공유 (즉시) 🌍
   ├─ 모든 VeriSafe 사용자 앱에 즉시 반영
   ├─ 경로 계산 시 병원 고려
   │   → 긴급 상황 시 "가장 가까운 병원: 1.2km"
   ├─ 지도에 병원 아이콘 표시 (빨간 십자가)
   └─ 검색 시 "주바 중앙 병원" 자동완성
   ↓
[AI 시스템] 지속적 개선 🤖
   ├─ 사용자들의 경로 데이터 분석
   │   → "주바 중앙 병원 자주 검색됨" → 중요 POI로 분류
   ├─ 위성 이미지로 주기적 확인
   │   → 건물 철거되면 자동 알림
   └─ 사용자 피드백 수집
       → "정보가 정확했나요?" (5점 평점)
```

**총 소요 시간:** 2분 33초 (정보 손실률 0%)
**품질:** 매우 높음 (GPS 좌표, 사진, 검증, 지속 업데이트)

**개선율:** 78.6% 시간 단축 + 무한대 공유 범위 확장

---

### 📈 각 단계별 주요 변화

| 단계 | 현행 프로세스 | 개선 후 프로세스 | AI/기술 적용 | 시간 절감 | 주요 변화 |
|------|--------------|----------------|-------------|-----------|----------|
| **1. 정보 캡처** | 사진 촬영 + 구두 보고 (5분) | 앱 내 즉시 입력 (30초) | **expo-camera**<br>- GPS 자동 태그<br>- 타임스탬프<br>- 오프라인 저장 | **90%** | 현장에서 즉시 처리 |
| **2. 위치 기록** | 수동 텍스트 (부정확) | GPS 자동 (±5m) | **expo-location**<br>- WGS84 좌표<br>- 정확도 표시 | **100%** | 정확도 100배 향상 |
| **3. 중복 확인** | 수동 (놓치기 쉬움) | 자동 (50m 반경) | **PostGIS KNN**<br>- ST_DWithin 쿼리<br>- 거리 계산 | **100%** | 중복 제보 제로 |
| **4. 품질 검증** | 안 함 | AI 자동 분석 | **YOLO v8 + NLP**<br>- 이미지 객체 탐지<br>- 텍스트 분석<br>- 신뢰도 점수 | **신규** | 검수 효율 3배 향상 |
| **5. 승인** | 없음 (또는 수동 복사) | 매퍼/관리자 검수 | **Review Workflow**<br>- pending → approved<br>- 승인 이력 추적 | **신규** | 품질 보장 |
| **6. 공유** | 안 됨 (로컬만) | 전 세계 실시간 | **PostgreSQL + 모바일 동기화**<br>- 즉시 반영<br>- 다국어 지원 | **∞** | 글로벌 임팩트 |
| **7. 업데이트** | 안 됨 | AI 자동 모니터링 | **Sentinel 위성 이미지**<br>- 변화 감지<br>- 자동 알림 | **신규** | 항상 최신 유지 |
| **8. 보상** | 없음 | 포인트 시스템 | **Gamification**<br>- 제보 +10점<br>- 승인 +50점<br>- 레벨업, 배지 | **신규** | 참여 동기 부여 |

**크라우드소싱 효과:**
- 📈 **데이터 성장**: 1명이 입력 → 1000명이 활용 → 10명이 추가 기여 (선순환)
- 🎯 **품질 향상**: 검증 + 피드백 시스템 (Wikipedia 방식)
- 🌍 **네트워크 효과**: 사용자 많을수록 지도 품질 향상 → 더 많은 사용자 유입
- 🏆 **동기 부여**: 포인트, 레벨, 리더보드 → 지속 참여

---

## 📊 전체 프로세스 종합 비교

| 프로세스 | 현행 시간 | 개선 후 시간 | 절감율 | 핵심 AI 기술 |
|----------|----------|------------|-------|-------------|
| **A. 경로 검토** | 75분 | 46초 | **99.0%** | K-Shortest Paths, HazardScorer, Redis 캐싱 |
| **B. 위험 정보 수집** | 140분/일 | 5분/일 | **96.4%** | NLP, API Crawler, Auto Translator |
| **C. 긴급 대응** | 35분 | 5분 | **85.7%** | Gesture Detection, KNN Safe Haven, GPS Tracking |
| **D. 지도 구축** | 12분 (손실률 70%) | 2.5분 (손실률 0%) | **78.6%** | YOLO v8, PostGIS, Gamification |
| **총계** | 262분/일 | 12.5분/일 | **95.2%** | 통합 AI 플랫폼 |

**연간 효과 (1명 안전담당자 기준):**
- ⏱️ 시간 절약: 249.5분/일 × 250일 = **1,040시간/년 (130일)**
- 💰 인건비 절감: 130일 × $200/일 = **$26,000/년**
- 👥 처리량 증가: 5건/일 → **무제한** (병목 제거)
- 🌍 글로벌 효과: 20개 사무소 × $26,000 = **$520,000/년**

---

## 🎯 AI 기술 적용 매트릭스

| AI/기술 | 적용 프로세스 | 구체적 기능 | 비즈니스 임팩트 |
|---------|-------------|-----------|----------------|
| **K-Shortest Paths + A*** | 경로 검토 | 다중 경로 탐색, 위험도 가중치 | 70분 → 3초 (1400배 빠름) |
| **NLP (Transformers)** | 위험 정보 수집 | 뉴스/트윗 자동 분석, 위험도 추출 | 수동 분류 불필요 |
| **LSTM** | 위험 예측 | 시계열 위험도 예측 (7일 후) | 사전 경고 가능 |
| **YOLO v8** | 지도 구축 | 위성 이미지 건물/도로 탐지 | 매퍼 작업 80% 자동화 |
| **PostGIS KNN** | 긴급 대응 | 최근접 안전 대피소 검색 | 5분 수동 검색 → 0.1초 |
| **Redis 캐싱** | 경로 검토 | 반복 쿼리 99% 속도 향상 | 서버 부하 90% 감소 |
| **Haversine + 거리 감쇠** | 위험도 계산 | 지리적 위험도 정확한 계산 | 주관적 판단 → 객관적 점수 |
| **Expo Notifications** | 긴급 대응, 정보 전파 | 푸시 알림, SMS 자동 발송 | 24시간 지연 → 1분 이내 |
| **AsyncStorage + Sync** | 오프라인 | 네트워크 두절 시에도 작동 | 현장 신뢰성 100% |
| **Gamification** | 지도 구축 | 포인트, 레벨, 배지 시스템 | 참여율 500% 증가 (추정) |

---

## 💡 추가 AI 고도화 로드맵

### Phase 1 (현재 구현됨) ✅
- K-Shortest Paths 알고리즘
- 외부 API 자동 수집
- NLP 기본 분석
- YOLO v8 이미지 탐지

### Phase 2 (6개월 내)
- **LSTM 시계열 예측**
  - 과거 3개월 데이터로 향후 7일 위험도 예측
  - "다음 주 A 지역 위험도 상승 예상 (85% 확률)"

- **강화학습 (Reinforcement Learning)**
  - 사용자 피드백으로 경로 선호도 학습
  - "안전하다고 표시한 경로" 패턴 분석 → 가중치 자동 조정

- **Transformer 감정 분석**
  - 소셜 미디어 긴급도 판단
  - "angry" 감정 트윗 급증 → 자동 위험도 상향

### Phase 3 (12개월 내)
- **Computer Vision 고도화**
  - Sentinel-2 위성 이미지 실시간 분석
  - 도로 손상, 불법 바리케이드 자동 탐지

- **Graph Neural Network (GNN)**
  - 도로 네트워크 전체를 그래프로 학습
  - 복잡한 위험도 전파 패턴 자동 파악

- **Multi-Agent 협업**
  - 여러 사용자의 실시간 위치 통합 분석
  - "3명이 같은 지역에서 SOS" → 대규모 사건 감지

---

## 🎤 프레젠테이션 핵심 메시지

### Before (현행)
```
👨 안전담당자: 하루 6시간 수작업
📊 Excel: 검색 불가, 공유 불가
⏰ 24시간 지연: 어제 사건을 오늘 아침에 공지
📞 긴급 상황: 35분 소요, 통신 실패 위험
🗺️ 지도: 정보 없음, 업데이트 안 됨
```

### After (VeriSafe + AI)
```
🤖 AI: 24시간 자동 작동
📱 앱: 46초에 6개 경로 제공
⚡ 실시간: 1시간 이내 전 세계 공유
🚨 SOS: 3초 제스처, 자동 대응
🌍 크라우드소싱: 1명 입력 → 1000명 혜택
```

### 숫자로 보는 임팩트
```
⏱️ 시간: 95.2% 단축 (262분 → 12.5분)
💰 비용: $520,000/년 절감 (20개 사무소)
🛡️ 안전: 사고 80% 감소 목표
🌏 확장: 전 세계 즉시 적용 가능
```

---

**"AI가 안전을 지키고, 사람은 사람을 돕습니다."**
**VeriSafe - Verified Safe Routes for Development Workers**
